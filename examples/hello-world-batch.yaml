# This is a batch because we have resources at the top level
# They are inherited by tasks
version: 1
requires:
  io.archspec:
    cpu.target: amd64

resources:
  count: 2
  type: node

tasks:
- name: task-1
  command:
    - bash
    - -c
    - "echo Starting task 1; sleep 3; echo Finishing task 1"

- name: task-2
  depends_on: ["task-1"]

  # This is an example of a custom "task-level' requires
  requires:
    hardware.gpu.available: "yes"
  command:
      - bash
      - -c
      - "echo Starting task 2; sleep 3; echo Finishing task 2"